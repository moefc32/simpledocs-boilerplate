import{h as I,b as v,d as D,E as H,H as L,e as O,g as Y,s as F,i as S,j as b,k as h,l as N,U,m as j,o as p,q as B,u as C,v as M,S as P}from"./CCxjcWvL.js";function w(a,t,[r,f]=[0,0]){I&&r===0&&v();var i=a,s=null,l=null,u=U,k=r>0?H:0,e=!1;const g=(n,c=!0)=>{e=!0,A(c,n)},A=(n,c)=>{if(u===(u=n))return;let E=!1;if(I&&f!==-1){if(r===0){const T=i.data;T===L?f=0:T===O?f=1/0:(f=parseInt(T.substring(1)),f!==f&&(f=u?1/0:-1))}const q=f>r;!!u===q&&(i=Y(),F(i),S(!1),E=!0,f=-1)}u?(s?b(s):c&&(s=h(()=>c(i))),l&&N(l,()=>{l=null})):(l?b(l):c&&(l=h(()=>c(i,[r+1,f]))),s&&N(s,()=>{s=null})),E&&S(!0)};D(()=>{e=!1,t(g),e||A(null,null)},k),I&&(i=j)}function R(a,t){return a===t||(a==null?void 0:a[P])===t}function z(a={},t,r,f){return p(()=>{var i,s;return B(()=>{i=s,s=[],C(()=>{a!==r(...s)&&(t(a,...s),i&&R(r(...i),a)&&t(null,...i))})}),()=>{M(()=>{s&&R(r(...s),a)&&t(null,...s)})}}),a}export{z as b,w as i};
